"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[534],{4534:function(e,s,a){a.r(s),a.d(s,{default:function(){return Z}});var n=a(4942),c=a(1413),i=a(9439),r="popular_popular__cvlsW",t="popular_mainTitle__RVvT3",l="popular_coutriesContainer__GU+ze",o="popular_coutriesList__pSkoB",u="popular_countryItem__jTbz-",d="popular_countryImage__yunYq",h="popular_bottomInfo__gtyht",p="popular_countryLocation__oyFR3",m="popular_countryLocationIcon__ksxsb",_="popular_countryName__8wl4A",f="popular_wrapLike__IGPtt",x="popular_likeInput__Bpa6+",j="popular_likeIcon__vpdZb",v="popular_liked__3kace",N=a(2791),k=a(4420),g=function(e){return e.countries},I=a(8310),y=a(5728),b=a(4793),w=a(184),S=function(){var e=(0,k.v9)(g),s=e.items,a=e.isLoading,S=e.error,Z=(0,k.v9)((function(e){return e.favoriteCountries})).favoriteItems,F=(0,N.useState)({}),L=(0,i.Z)(F,2),C=L[0],E=L[1],D=(0,k.I0)();if((0,N.useEffect)((function(){D((0,y.t)())}),[D]),(0,N.useEffect)((function(){var e=JSON.parse(localStorage.getItem("likedItems"))||{};for(var s in E(e),e)console.log(s,Z),Z.includes(s)||(e[s]?D((0,I.a)(s)):D((0,I.r)(s)))}),[D,Z]),(0,N.useEffect)((function(){localStorage.setItem("likedItems",JSON.stringify(C))}),[C]),(0,N.useEffect)((function(){E((function(e){var s=(0,c.Z)({},e);return Z.forEach((function(e){s[e]||(s[e]=!0)})),s}))}),[Z]),a)return(0,w.jsx)("section",{className:r,children:(0,w.jsxs)("div",{className:"container",children:[(0,w.jsx)("h2",{className:t,children:"Find Popular Destination"}),(0,w.jsx)("div",{className:l,children:(0,w.jsx)("p",{children:"...Loading"})})]})});if(S)return(0,w.jsx)("section",{className:r,children:(0,w.jsxs)("div",{className:"container",children:[(0,w.jsx)("h2",{className:t,children:"Find Popular Destination"}),(0,w.jsx)("div",{className:l,children:(0,w.jsx)("p",{children:S})})]})});if(!s||!s.countries)return null;var P=function(e){var s=e.target,a=s.id,i=s.checked;E((function(e){var s=(0,c.Z)((0,c.Z)({},e),{},(0,n.Z)({},a,i));return i||delete s[a],localStorage.setItem("likedItems",JSON.stringify(s)),s})),D(i?(0,I.a)(a):(0,I.r)(a))},J=s.countries.map((function(e){var s=e._id,a=e.image,n=e.country,c=e.city,i=C[s]||!1;return(0,w.jsxs)("li",{className:u,children:[(0,w.jsx)("div",{className:d,children:(0,w.jsx)("img",{src:a,alt:""})}),(0,w.jsxs)("div",{className:h,children:[(0,w.jsxs)("div",{className:p,children:[(0,w.jsx)("svg",{className:m,width:"24",height:"24",children:(0,w.jsx)("use",{href:"".concat(b.Z,"#icon-location")})}),(0,w.jsxs)("p",{className:_,children:[n,", ",c]})]}),(0,w.jsx)("form",{children:(0,w.jsxs)("label",{htmlFor:s,className:f,children:[(0,w.jsx)("input",{id:s,type:"checkbox",name:"like",value:"like",className:x,checked:i,onChange:P}),(0,w.jsx)("svg",{className:"".concat(j," ").concat(i?v:""),width:"32",height:"32",children:(0,w.jsx)("use",{href:"".concat(b.Z,"#icon-like")})})]})})]})]},s)}));return(0,w.jsx)("section",{className:r,children:(0,w.jsxs)("div",{className:"container",children:[(0,w.jsx)("h2",{className:t,children:"Find Popular Destination"}),(0,w.jsx)("div",{className:l,children:(0,w.jsx)("ul",{className:o,children:J})}),(0,w.jsx)("h2",{className:t,children:"My Favorite Destinations"}),(0,w.jsx)("div",{className:l})]})})},Z=function(){return(0,w.jsx)("main",{className:"countries",children:(0,w.jsx)(S,{})})}}}]);
//# sourceMappingURL=534.ba6001d5.chunk.js.map